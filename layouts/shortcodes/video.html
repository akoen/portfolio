<!-- Inspired by https://blog.cavelab.dev/2021/06/video-solutions-for-blog/ and
https://blog.zazu.berlin/internet-programmierung/mpeg-dash-and-hls-adaptive-bitrate-streaming-with-ffmpeg.html -->

{{ $src := (printf "/videos/content%s%s" $.Page.RelPermalink (.Get "src")) }}
{{ $playlist := (printf "%s/playlist.m3u8" $src) }}
{{ $poster := (printf "%s/thumb.jpg" $src) }}

<figure>
  <video controls
         playsinline
         class="video-js vjs-4-3 vjs-big-play-centered"
         poster="{{ $poster }}"
         data-setup='{}'>
    <source type="application/x-mpegurl" src="{{ $playlist }}">
  </video>
</figure>
