{{/*
IMAGE.HTML - Responsive images using srcset.

USAGE:
{{ partial "image" (dict "ctx" $ "img" "<resource>" "class" "<optional>") }}

REQUIRED SITE PARAMETERS:
- imageResponsiveWidths
- imageWidths
*/}}


{{ $img := .img }}
{{ $class := .class}}

{{ $unloadedThumb := ($img.Resize "x1") }}
{{ $srcset := (partial "srcset.html" $img) }}

<img
  class="lazy {{ if $class }} {{ $class }} {{ end }}"
  src='{{ $unloadedThumb.Permalink }}'
  data-src="{{ $srcset.src }}"
  data-srcset="{{ $srcset.srcset }}"
/>
